---
title: ìë£Œêµ¬ì¡° Cookie, Session
author: Narvis2
date: 2022-11-21 09:02:00 +0900
categories: [DataStructure]
tags: [cookie, session, data structure]
---

ì•ˆë…•í•˜ì„¸ìš”. Narvis2 ì…ë‹ˆë‹¤.  
ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” `ì¿ í‚¤(Cookie)`ì™€ `ì„¸ì…˜(Session)`ì— ëŒ€í•˜ì—¬ ì•Œì•„ë³´ê³ ì í•©ë‹ˆë‹¤.

## ğŸ€ ì‚¬ìš© ì´ìœ 

---

- `Cookie`ì™€ `Session`ì€ ì£¼ë¡œ ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°ì´í„°ë¥¼ êº¼ë‚´ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš° ì‚¬ìš©ë¨
- `HTTP`ì˜ íŠ¹ì§•ìœ¼ë¡œ ì¸í•´ ì‚¬ìš© ğŸ‘‡
  > - `Connectionless(ë¹„ ì—°ê²°ì§€í–¥)` ğŸ‘‰ `HTTP`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `ìš”ì²­`&`ì‘ë‹µ`ë§Œ í•˜ê³  ëŠì–´ë²„ë¦¼
  > - `Stateless(ìƒíƒœì •ë³´ìœ ì§€ì•ˆí•¨)` ğŸ‘‰ `HTTP`ëŠ” ìƒíƒœì •ë³´ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŒ, ë”°ë¼ì„œ `Session` í˜¹ì€ `Cookie`ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•¨

## ğŸ€ Cookie (ì¿ í‚¤)

---

- ë¸Œë¼ìš°ì €ì— **_íœ˜ë°œì„± ë°ì´í„°_** ë¥¼ ì €ì¥í•˜ëŠ” ë°©ì‹
- ìœ ì €ë“¤ì˜ íš¨ìœ¨ì ì´ê³  ì•ˆì „í•œ ì›¹ ì‚¬ìš©ì„ ë³´ì¥í•˜ê¸° ìœ„í•˜ì—¬ ì‚¬ìš©
- ì›¹ ì‚¬ì´íŠ¸ ì ‘ì†ì‹œ ì ‘ì†ìì˜ ê°œì¸ ì¥ì¹˜ì— ë‹¤ìš´ë¡œë“œë˜ê³ , ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ëŠ” ì‘ì€ `Text`íŒŒì¼
- ì›¹ ì‚¬ì´íŠ¸ëŠ” ì¿ í‚¤ë¥¼ í†µí•´ ì ‘ì†ìì˜ ì¥ì¹˜ë¥¼ ì¸ì‹í•˜ê³ , ì ‘ì†ìì˜ ì„¤ì •ê³¼ ê³¼ê±° ì´ìš©ë‚´ì—­ì— ëŒ€í•œ ì¼ë¶€ ë°ì´í„°ë¥¼ ì €ì¥
  > **_ì°¸ê³ _** ğŸ‘‰ íŠ¹ì • ì‚¬ì´íŠ¸ì— ê°€ë©´, **_ìë™ì ìœ¼ë¡œ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ê°€ ì…ë ¥_** ë˜ëŠ” ê²½ìš°
- ì´ë¦„, ê°’, `ë§Œë£Œë‚ ì§œ`, ê²½ë¡œ ì •ë³´ê°€ ë“¤ì–´ìˆìŒ
  > **_ì°¸ê³ _** ğŸ‘‰ `ì¼ì • ì‹œê°„ë™ì•ˆ` ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆì–´ì„œ **_ë¡œê·¸ì¸ ìƒíƒœë¥¼ ìœ ì§€_** í•˜ê±°ë‚˜, **_ì‚¬ìš©ì ì •ë³´ë¥¼ ì¼ì • ì‹œê°„ ë™ì•ˆ ìœ ì§€í•´ì•¼ í•˜ëŠ” ê²½ìš°_** ì— ì£¼ë¡œ ì‚¬ìš©
- `Cookie`ê°€ ìƒì„±ë˜ë©´ ë¸Œë¼ìš°ì €ëŠ” `Request Header`ì— ìë™ì ìœ¼ë¡œ `Cookie` ì •ë³´ë¥¼ ë„£ì–´ì„œ ë³´ë‚´ê²Œ ë¨
  > **_ì°¸ê³ _** ğŸ‘‰ ë§¤ ìš”ì²­ë§ˆë‹¤ `Cookie`ë¥¼ ë‹´ì•„ì„œ ë³´ëƒ„
- âœ… ì‚¬ìš© ê²½ìš°
  > - 1ï¸âƒ£ `Session`ê´€ë¦¬ ğŸ‘‰ ì„œë²„ì— ì €ì¥í•´ì•¼ í•  ë¡œê·¸ì¸, ì¥ë°”êµ¬ë‹ˆ, ê²Œì„ ìŠ¤ì½”ì–´ ë“±ì˜ ì •ë³´ ê´€ë¦¬
  > - 2ï¸âƒ£ `ê°œì¸í™”` ğŸ‘‰ ì‚¬ìš©ì ì„ í˜¸ **_í…Œë§ˆ_** ë“±ì˜ ì„¸íŒ…
  > - 3ï¸âƒ£ `íŠ¸ë˜í‚¹` ğŸ‘‰ ì‚¬ìš©ìì˜ í–‰ë™ì„ ê¸°ë¡í•˜ê³  ë¶„ì„í•˜ëŠ” ìš©ë„
- â—ï¸ ë‹¨ì  â—ï¸
  > - ì‚¬ìš©ì ì •ë³´ê°€ ëˆ„ì¶œë  ìˆ˜ ìˆìŒ. (ë³´ì•ˆì„± ë‚®ìŒ)

### â˜˜ï¸ Cookie ì˜ Flow (íë¦„)

![Desktop View](/assets/img/datastructure/cookie-flow.png){: width="100%" }

- 1ï¸âƒ£ ì›¹ ë¸Œë¼ìš°ì €(`Client`)ì—ì„œ `ì„œë²„`ë¡œ ìš”ì²­(`request`)
- 2ï¸âƒ£ `ì„œë²„`ì—ì„œ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³  ì‹¶ì€ ê°’ì„ `Cookie`ë¡œ ìƒì„±
- 3ï¸âƒ£ `ì„œë²„`ê°€ ì‘ë‹µ(`response`)í•  ë•Œ `HTTP` `Header`ì— `Cookie`ë¥¼ í¬í•¨í•´ì„œ `Client`ì—ê²Œ ì „ì†¡
- 4ï¸âƒ£ `Cookie`ëŠ” `Client`ì— íŒŒì¼ ë‹¨ìœ„ë¡œ ì €ì¥
- 5ï¸âƒ£ ì´í›„ `Client`ì—ì„œ ì´ `Cookie`ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­(`request`)

## ğŸ€ Session (ì„¸ì…˜)

---

- ì„œë²„ ë©”ëª¨ë¦¬ì— ì €ì¥ë˜ëŠ” ì •ë³´
  > **_ì°¸ê³ _** ğŸ‘‰ ì„œë²„ì— ì €ì¥ë˜ê¸° ë•Œë¬¸ì— `Cookie`ì™€ëŠ” ë‹¬ë¦¬ **_ì‚¬ìš©ì ì •ë³´ê°€ ë…¸ì¶œë˜ì§€ ì•ŠìŒ_**
- ìˆ˜ëª… ğŸ‘‰ `Client`ê°€ ì›¹ ì„œë²„ì— ì—°ê²°ëœ ìˆœê°„ë¶€í„° ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì•„ ì„œë²„ì™€ì˜ `HTTP` ëë‚  ë•Œ ê¹Œì§€ì˜ ê¸°ê°„
- ì„œë²„ì— `Session`ì— ëŒ€í•œ ì •ë³´(Session ìƒíƒœ, Client ìƒíƒœ, Session ë°ì´í„° ë“±)ë¥¼ ì €ì¥í•´ ë†“ê³  `Session` `Cookie`(ê³ ìœ í•œ Session ID ê°’)ë¥¼ `Client`ì—ê²Œ ì£¼ì–´ ì„œë²„ê°€ `Client`ë¥¼ ì‹ë³„í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ë°©ì‹ ìì²´ë¥¼ ì˜ë¯¸
- âœ… íŠ¹ì§•
  > - 1ï¸âƒ£ ë”°ë¡œ ìš©ëŸ‰ì˜ ì œí•œì´ ì—†ìŒ(ì„œë²„ì˜ ëŠ¥ë ¥ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ)
  > - 2ï¸âƒ£ ì„œë²„ì— `Session` ê°ì²´ë¥¼ ìƒì„±í•˜ë©°, ê° `Client` ë§ˆë‹¤ ê³ ìœ í•œ `Session` `ID` ê°’ì„ ë¶€ì—¬í•¨.
  > - 3ï¸âƒ£ `Cookie`ë¥¼ ì‚¬ìš©í•˜ì—¬ `Session ID` ê°’ì„ `Client`ì— ë³´ëƒ„
  > - 4ï¸âƒ£ ì›¹ ë¸Œë¼ìš°ì €ê°€ ì¢…ë£Œë˜ë©´ `Session`, `Cookie`ëŠ” ì‚­ì œë¨

### â˜˜ï¸ Session ì˜ Flow (íë¦„)

![Desktop View](/assets/img/datastructure/session-flow.png){: width="100%" }

- 1ï¸âƒ£ ì›¹ ë¸Œë¼ìš°ì €(`Client`)ì—ì„œ `ì„œë²„`ë¡œ ìš”ì²­(`request`)
- 2ï¸âƒ£ `ì„œë²„`ë‚´ë¶€ì—ì„œ í•´ë‹¹ `Client`ì—ê²Œ `Session ID`ë¥¼ ë¶€ì—¬
- 3ï¸âƒ£ `ì„œë²„`ê°€ ì‘ë‹µ(`response`)í•  ë•Œ `HTTP` `Header`ì— `Session ID`ë¥¼ í¬í•¨í•´ì„œ `Client`ì—ê²Œ ì „ì†¡
- 4ï¸âƒ£ ì›¹ ë¸Œë¼ìš°ì €(`Client`)ëŠ” ì´í›„ ì›¹ ë¸Œë¼ìš°ì €(`Client`)ë¥¼ ë‹«ê¸°ê¹Œì§€ ë¶€ì—¬ëœ `Session ID`ë¥¼ ê¸°ì–µí•¨
- 5ï¸âƒ£ ì´í›„ `Client`ì—ì„œ ì´ `Session ID`ë¥¼ í¬í•¨í•˜ì—¬ ìš”ì²­(`request`)
- 6ï¸âƒ£ ë¸Œë¼ìš°ì €ë¥¼ ì¢…ë£Œí•˜ë©´ `Session ID`ë¥¼ ì‚­ì œ

## ğŸ€ Cookie ì™€ Session ì˜ ì°¨ì´

---

|           | Cookie          | Session              |
| --------- | --------------- | -------------------- |
| ì €ì¥ ìœ„ì¹˜ | ë¸Œë¼ìš°ì €(Local) | ì„œë²„                 |
| ë³´ì•ˆì„±    | ë‚®ìŒ            | ë†’ìŒ                 |
| ìˆ˜ëª…      | ë°˜ì˜êµ¬          | ë¸Œë¼ìš°ì € ì¢…ë£Œì‹œ ì‚­ì œ |
| ì†ë„      | ë¹ ë¦„            | ëŠë¦¼                 |
