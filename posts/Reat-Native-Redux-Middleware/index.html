<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="React-Native Redux Middleware" /><meta name="author" content="Narvis2" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="안녕하세요. Narvis2 입니다. 이번 시간에는 Redux Middleware에 대하여 알아보도록 하겠습니다. Redux Middleware는 REST API 요청 상태를 관리하기 위해 주로 사용합니다. Redux Middleware를 사용하면 Action이 Dispatch된 다음, Reducer에서 해당 Action을 받아와서 Update하기 전에 추가적인 작업을 할 수 있습니다. 자세한 건 밑에서 알아보도록 하겠습니다." /><meta property="og:description" content="안녕하세요. Narvis2 입니다. 이번 시간에는 Redux Middleware에 대하여 알아보도록 하겠습니다. Redux Middleware는 REST API 요청 상태를 관리하기 위해 주로 사용합니다. Redux Middleware를 사용하면 Action이 Dispatch된 다음, Reducer에서 해당 Action을 받아와서 Update하기 전에 추가적인 작업을 할 수 있습니다. 자세한 건 밑에서 알아보도록 하겠습니다." /><link rel="canonical" href="https://narvis2.github.io/posts/Reat-Native-Redux-Middleware/" /><meta property="og:url" content="https://narvis2.github.io/posts/Reat-Native-Redux-Middleware/" /><meta property="og:site_name" content="Narvis2" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-11-30T16:42:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="React-Native Redux Middleware" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Narvis2"},"dateModified":"2022-11-30T16:42:00+09:00","datePublished":"2022-11-30T16:42:00+09:00","description":"안녕하세요. Narvis2 입니다. 이번 시간에는 Redux Middleware에 대하여 알아보도록 하겠습니다. Redux Middleware는 REST API 요청 상태를 관리하기 위해 주로 사용합니다. Redux Middleware를 사용하면 Action이 Dispatch된 다음, Reducer에서 해당 Action을 받아와서 Update하기 전에 추가적인 작업을 할 수 있습니다. 자세한 건 밑에서 알아보도록 하겠습니다.","headline":"React-Native Redux Middleware","mainEntityOfPage":{"@type":"WebPage","@id":"https://narvis2.github.io/posts/Reat-Native-Redux-Middleware/"},"url":"https://narvis2.github.io/posts/Reat-Native-Redux-Middleware/"}</script><title>React-Native Redux Middleware | Narvis2</title><link rel="android-chrome-192x192" sizes="192x192" href="/assets/img/favicons/android-chrome-192x192.png"><link rel="android-chrome-512x512" sizes="512x512" href="/assets/img/favicons/android-chrome-512x512.png"><link rel="mstile-150x150" sizes="150x150" href="/assets/img/favicons/mstile-150x150.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Narvis2"><meta name="application-name" content="Narvis2"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/main.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Narvis2</a></div><div class="site-subtitle font-italic">개발 일지</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/narvis2" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['narvis2','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>React-Native Redux Middleware</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>React-Native Redux Middleware</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1669794120" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-11-30 </em> </span><div class="d-flex justify-content-between"> <span> By <em> narvis2 </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1458 단어"> <em>8 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>안녕하세요. Narvis2 입니다.<br /> 이번 시간에는 <code class="language-plaintext highlighter-rouge">Redux Middleware</code>에 대하여 알아보도록 하겠습니다.<br /> <code class="language-plaintext highlighter-rouge">Redux Middleware</code>는 <code class="language-plaintext highlighter-rouge">REST API</code> 요청 상태를 관리하기 위해 주로 사용합니다.<br /> <code class="language-plaintext highlighter-rouge">Redux Middleware</code>를 사용하면 <code class="language-plaintext highlighter-rouge">Action</code>이 <code class="language-plaintext highlighter-rouge">Dispatch</code>된 다음, <code class="language-plaintext highlighter-rouge">Reducer</code>에서 해당 <code class="language-plaintext highlighter-rouge">Action</code>을 받아와서 <code class="language-plaintext highlighter-rouge">Update</code>하기 전에 추가적인 작업을 할 수 있습니다.<br /> 자세한 건 밑에서 알아보도록 하겠습니다.</p><h2 id="-redux-middleware"><span class="mr-2">🍀 Redux Middleware</span><a href="#-redux-middleware" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><code class="language-plaintext highlighter-rouge">Action</code>을 <code class="language-plaintext highlighter-rouge">Dispatch</code>했을 때 <code class="language-plaintext highlighter-rouge">Reducer</code>에서 이를 처리하기에 앞서 <strong><em>사전에 지정된 작업을 실행할 수 있게 해줌</em></strong> 즉, <strong><em><code class="language-plaintext highlighter-rouge">Action</code>과 <code class="language-plaintext highlighter-rouge">Reducer</code>사이의 중간자</em></strong><li>특정 조건에 따라 <code class="language-plaintext highlighter-rouge">Action</code>이 무시되게 만들 수 있음<li><code class="language-plaintext highlighter-rouge">Action</code>을 <code class="language-plaintext highlighter-rouge">console</code>에 출력하거나, 서버쪽에 <code class="language-plaintext highlighter-rouge">logging</code>을 할 수 있음<li><code class="language-plaintext highlighter-rouge">Action</code>이 <code class="language-plaintext highlighter-rouge">Dispatch</code> 되었을 때 이를 수정해서 <code class="language-plaintext highlighter-rouge">Reducer</code>에게 전달되도록 할 수 있음<li>특정 <code class="language-plaintext highlighter-rouge">Action</code>이 발생했을 때 이에 기반하여 다른 <code class="language-plaintext highlighter-rouge">Action</code>이 발생되도록 할 수 있음<li>특정 <code class="language-plaintext highlighter-rouge">Action</code>이 발생했을 때 특정 <code class="language-plaintext highlighter-rouge">Javascript</code> 함수를 실행시킬 수 있음<li>✅ <strong><em><code class="language-plaintext highlighter-rouge">Redux Middleware</code>는 비동기 작업을 처리할 때 주로 사용</em></strong><blockquote><ul><li>비동기 작업에 관련된 <code class="language-plaintext highlighter-rouge">Middleware</code> 라이브러리<blockquote><ul><li><code class="language-plaintext highlighter-rouge">redux-thunk</code><blockquote><ul><li>함수를 기반으로 작동<li><code class="language-plaintext highlighter-rouge">redux-toolkit</code>에 내장되어 있어 적용하기가 간단<li><code class="language-plaintext highlighter-rouge">redux</code>에서 <code class="language-plaintext highlighter-rouge">type</code>을 지닌 객체가 아닌, 함수 타입을 <code class="language-plaintext highlighter-rouge">Dispatch</code> 할 수 있게 해줌</ul></blockquote><li><code class="language-plaintext highlighter-rouge">redux-saga</code><blockquote><ul><li><code class="language-plaintext highlighter-rouge">Generator</code>를 기반으로 사용<li>특정 경우에 특정 <code class="language-plaintext highlighter-rouge">Action</code>을 모니터링 할 수도 있음<li>특정 <code class="language-plaintext highlighter-rouge">Action</code>이 <code class="language-plaintext highlighter-rouge">Dispatch</code> 되었을때 원하는 함수를 호출하거나, 또는 <code class="language-plaintext highlighter-rouge">라우터</code>를 통해 다른 주소로 이동하는 것이 가능</ul></blockquote><li><code class="language-plaintext highlighter-rouge">redux-observable</code><blockquote><ul><li><code class="language-plaintext highlighter-rouge">RxJs</code>를 기반으로 작동<li>특정 경우에 특정 <code class="language-plaintext highlighter-rouge">Action</code>을 모니터링 할 수도 있음<li>특정 <code class="language-plaintext highlighter-rouge">Action</code>이 <code class="language-plaintext highlighter-rouge">Dispatch</code> 되었을때 원하는 함수를 호출하거나, 또는 <code class="language-plaintext highlighter-rouge">라우터</code>를 통해 다른 주소로 이동하는 것이 가능</ul></blockquote><li><code class="language-plaintext highlighter-rouge">redux-promise-middleware</code></ul></blockquote></ul></blockquote></ul><h3 id="️-redux-thunk"><span class="mr-2">☘️ Redux-Thunk</span><a href="#️-redux-thunk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><code class="language-plaintext highlighter-rouge">redux</code>에서 비동기 작업을 처리 할 때 가장 많이 사용하는 <code class="language-plaintext highlighter-rouge">middleware</code><li>함수를 기반으로 작동<li><code class="language-plaintext highlighter-rouge">action</code>객체가 아닌 함수를 <code class="language-plaintext highlighter-rouge">Dispatch</code>할 수 있게 해줌.<li><code class="language-plaintext highlighter-rouge">Redux DevTools</code>와 함께 사용<li><p>적용 👉 <code class="language-plaintext highlighter-rouge">yarn add redux-thunk</code></p><blockquote><p>1️⃣ <strong><em>예제</em></strong> ) <code class="language-plaintext highlighter-rouge">redux-thunk</code> <code class="language-plaintext highlighter-rouge">middleware</code> 적용 &gt; <code class="language-plaintext highlighter-rouge">App.tsx</code> 👇</p></blockquote><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">rootReducer</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./src/modules</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">applyMiddleware</span><span class="p">,</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">thunk</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux-thunk</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">rootReducer</span><span class="p">,</span> <span class="nf">applyMiddleware</span><span class="p">(</span><span class="nx">thunk</span><span class="p">));</span>
</pre></table></code></div></div><blockquote><p>2️⃣ <strong><em>예제</em></strong> ) <code class="language-plaintext highlighter-rouge">thunk</code> 함수 생성 &gt; <code class="language-plaintext highlighter-rouge">Redux Module</code> 에 작성 👇</p></blockquote><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1">// ✅ thunk 함수 생성</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">increaseAsync</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">dispatch</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">CounterAction</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nf">dispatch</span><span class="p">(</span><span class="nf">increase</span><span class="p">()),</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">};</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">decreaseAsync</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">dispatch</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">CounterAction</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nf">dispatch</span><span class="p">(</span><span class="nf">decrease</span><span class="p">()),</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">};</span>
</pre></table></code></div></div><blockquote><p><strong><em>설명</em></strong> 👉 <code class="language-plaintext highlighter-rouge">CounterAction</code> 을 <code class="language-plaintext highlighter-rouge">AnyAction</code>으로 교체해도 상관 없음</p></blockquote><blockquote><p>3️⃣ <strong><em>사용</em></strong> ) <code class="language-plaintext highlighter-rouge">thunk</code> 함수 사용 👇</p></blockquote><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="cm">/**
 * ✅ 현재 상태를 조회
 * 상태를 조회할 때는 state의 타입을 RootState로 지정해야함
 */</span>
<span class="kd">const</span> <span class="nx">counter</span> <span class="o">=</span> <span class="nf">useSelector</span><span class="p">((</span><span class="nx">state</span><span class="p">:</span> <span class="nx">RootState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">counter</span><span class="p">);</span>
<span class="c1">// Dispatch 함수를 가져옴 (action을 발생시켜 상태를 업데이트)</span>
<span class="kd">const</span> <span class="nx">dispatch</span> <span class="o">=</span> <span class="nf">useDispatch</span><span class="p">();</span>

<span class="kd">function</span> <span class="nf">onIncrease</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">dispatch</span><span class="p">(</span><span class="nf">increaseAsync</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">onDecrease</span><span class="p">()</span> <span class="p">{</span>
  <span class="nf">dispatch</span><span class="p">(</span><span class="nf">decreaseAsync</span><span class="p">());</span>
<span class="p">}</span>
</pre></table></code></div></div></ul><h3 id="️-redux-thunk--promise"><span class="mr-2">☘️ Redux-Thunk + Promise</span><a href="#️-redux-thunk--promise" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><p>⚠️ <code class="language-plaintext highlighter-rouge">Promise</code>를 다루는 <code class="language-plaintext highlighter-rouge">Redux Module</code>을 다룰 때 주의 사항</p><ul><li>1️⃣ <code class="language-plaintext highlighter-rouge">Promise</code>가 시작(<code class="language-plaintext highlighter-rouge">start</code>), 성공(<code class="language-plaintext highlighter-rouge">success</code>), 실패(<code class="language-plaintext highlighter-rouge">failure</code>)했을 때 다른 <code class="language-plaintext highlighter-rouge">Action</code>을 <code class="language-plaintext highlighter-rouge">Dispatch</code> 해야함<li>2️⃣ 각 <code class="language-plaintext highlighter-rouge">Promise</code>마다 <code class="language-plaintext highlighter-rouge">thunk</code> 함수를 만들어주어야 함<li>3️⃣ <code class="language-plaintext highlighter-rouge">Reducer</code>에서 <code class="language-plaintext highlighter-rouge">Action</code>에 따라 로딩중(<code class="language-plaintext highlighter-rouge">loading</code>), 결과(<code class="language-plaintext highlighter-rouge">result</code>), 에러(<code class="language-plaintext highlighter-rouge">error</code>) 상태를 변경해주어야 함</ul><blockquote><p>1️⃣ <strong><em>예제</em></strong> ) <code class="language-plaintext highlighter-rouge">modules/posts.tsx</code> &gt; <code class="language-plaintext highlighter-rouge">Redux Module</code> 작성 👇</p></blockquote><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">AnyAction</span><span class="p">,</span> <span class="nx">Dispatch</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">redux</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">postsAPI</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../api/posts</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// api/posts 안의 함수 모두 불러오기</span>

<span class="c1">// ✅ 밑의 대문자 상수는 모두 Action Type임</span>

<span class="c1">// 포스트 여러개 조회하기</span>
<span class="kd">const</span> <span class="nx">GET_POSTS</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET_POSTS</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 요청이 시작됨</span>
<span class="kd">const</span> <span class="nx">GET_POSTS_SUCCESS</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET_POSTS_SUCCESS</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 성공</span>
<span class="kd">const</span> <span class="nx">GET_POSTS_ERROR</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET_POSTS_ERROR</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 실패</span>

<span class="c1">// 포스트 하나 조회하기</span>
<span class="kd">const</span> <span class="nx">GET_POST</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET_POST</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 요청이 시작됨</span>
<span class="kd">const</span> <span class="nx">GET_POST_SUCCESS</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET_POST_SUCCESS</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 성공</span>
<span class="kd">const</span> <span class="nx">GET_POST_ERROR</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">GET_POST_ERROR</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 실패</span>

<span class="cm">/**
 * thunk 를 사용할 때, 꼭 모든 Action들에 대하여 Action 생성함수를 만들 필요는 없음
 * 그냥, thunk 함수에서 바로 action 객체를 만들어 주어도 괜찮음
 */</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">getPosts</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nf">async </span><span class="p">(</span><span class="nx">dispatch</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">AnyAction</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">GET_POSTS</span> <span class="p">});</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">posts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">postsAPI</span><span class="p">.</span><span class="nf">getPosts</span><span class="p">();</span>
    <span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">GET_POSTS_SUCCESS</span><span class="p">,</span> <span class="nx">posts</span> <span class="p">});</span>
  <span class="p">}</span> <span class="nf">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">GET_POSTS_ERROR</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="nx">error</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// ✅ thunk 함수에서도 파라미터를 받아와서 사용 가능</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">getPost</span> <span class="o">=</span>
  <span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nf">async </span><span class="p">(</span><span class="nx">dispatch</span><span class="p">:</span> <span class="nx">Dispatch</span><span class="o">&lt;</span><span class="nx">AnyAction</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">GET_POST</span> <span class="p">});</span>

    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">post</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">postsAPI</span><span class="p">.</span><span class="nf">getPostById</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
      <span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">GET_POST_SUCCESS</span><span class="p">,</span> <span class="nx">post</span> <span class="p">});</span>
    <span class="p">}</span> <span class="nf">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nf">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">GET_POST_ERROR</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="nx">error</span> <span class="p">});</span>
    <span class="p">}</span>
  <span class="p">};</span>

<span class="c1">// ✅ 초깃값</span>
<span class="kd">const</span> <span class="nx">initialState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">posts</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">post</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">data</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="c1">// ✅ Reducer 함수</span>
<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nf">posts</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">initialState</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
  <span class="nf">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">GET_POSTS</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">posts</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loading</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">};</span>

    <span class="k">case</span> <span class="nx">GET_POSTS_SUCCESS</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">posts</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">posts</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">};</span>

    <span class="k">case</span> <span class="nx">GET_POSTS_ERROR</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">posts</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">};</span>

    <span class="k">case</span> <span class="nx">GET_POST</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">post</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loading</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">};</span>

    <span class="k">case</span> <span class="nx">GET_POST_SUCCESS</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">post</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loading</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">post</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">};</span>

    <span class="k">case</span> <span class="nx">GET_POST_ERROR</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">post</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">loading</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">data</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="na">error</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">};</span>

    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><blockquote><p>2️⃣ <strong><em>예제</em></strong> ) <code class="language-plaintext highlighter-rouge">thunk</code> 사용 👇</p></blockquote><div class="language-typescript highlighter-rouge"><div class="code-header"> <span data-label-text="TypeScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="p">{</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">error</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">useSelector</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">posts</span><span class="p">.</span><span class="nx">posts</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">dispatch</span> <span class="o">=</span> <span class="nf">useDispatch</span><span class="p">();</span>

<span class="c1">// 컴포넌트 마운트 후 포스트 목록 요청</span>
<span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">dispatch</span><span class="p">(</span><span class="nf">getPosts</span><span class="p">());</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">dispatch</span><span class="p">]);</span>
</pre></table></code></div></div></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/react-native/'>React-Native</a>, <a href='/categories/redux/'>Redux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/redux/" class="post-tag no-text-decoration" >redux</a> <a href="/tags/react-native/" class="post-tag no-text-decoration" >react-native</a> <a href="/tags/redux-middleware/" class="post-tag no-text-decoration" >redux-middleware</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=React-Native+Redux+Middleware+-+Narvis2&url=https%3A%2F%2Fnarvis2.github.io%2Fposts%2FReat-Native-Redux-Middleware%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=React-Native+Redux+Middleware+-+Narvis2&u=https%3A%2F%2Fnarvis2.github.io%2Fposts%2FReat-Native-Redux-Middleware%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fnarvis2.github.io%2Fposts%2FReat-Native-Redux-Middleware%2F&text=React-Native+Redux+Middleware+-+Narvis2" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/iOS-SwiftUi-ViewModel/">iOS SwiftUi ViewModel</a><li><a href="/posts/Android-Activity-Lifecycle/">Android Activity Lifecycle 생명주기 정리</a><li><a href="/posts/Javascript-Promise-Async-Await/">JavaScript 비동기 작업 Promise, async, await 알아보기</a><li><a href="/posts/iOS-Swift-Alamofire/">iOS SwiftUi Alamofire 기초</a><li><a href="/posts/iOS-Swift-Combine-Basic/">iOS SwiftUi Combine 기초</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/react-native/">react-native</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/jetpack/">jetpack</a> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/redux/">redux</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/uikit/">UIKit</a> <a class="post-tag" href="/tags/coroutine/">coroutine</a> <a class="post-tag" href="/tags/class/">class</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/React-Native-Redux-Toolkit/"><div class="card-body"> <em class="small" data-ts="1661411940" data-df="YYYY-MM-DD" > 2022-08-25 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React-Native Redux Toolkit 사용</h3><div class="text-muted small"><p> 안녕하세요. Narvis2 입니다. 이번 시간에는 Redux Toolkit에 대하여 알아보도록 하겠습니다. Redux를 사용하면 action type을 선언하고, action 생성 함수를 선언하고, Reducer에서 해당 action을 위한 케이스를 작성해야 합니다. 그리고 Module의 상태가 복잡해지면 불변성을 유지하면서 상태를 업데이트하기 위해 ...</p></div></div></a></div><div class="card"> <a href="/posts/React-Native-Redux/"><div class="card-body"> <em class="small" data-ts="1661411940" data-df="YYYY-MM-DD" > 2022-08-25 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React-Native Redux로 전역 상태 관리하기</h3><div class="text-muted small"><p> 안녕하세요. Narvis2 입니다. 이번 시간에는 Redux를 사용하여 전역 상태를 관리하는 방법에 대하여 알아보겠습니다. 기존에는 React의 Context API를 사용하여 전역 상태를 관리했습니다. Context API를 사용하면 웬만한 기능은 모두 구현할 수 있습니다. 하지만 전역적으로 다뤄야 할 상태가 다양해지고 복잡해질수록 준비해야 할 코드...</p></div></div></a></div><div class="card"> <a href="/posts/React-Native-Redux-With-TypeScript/"><div class="card-body"> <em class="small" data-ts="1669776840" data-df="YYYY-MM-DD" > 2022-11-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>React-Native Redux + TypeScript</h3><div class="text-muted small"><p> 안녕하세요. Narvis2 입니다. 이번시간에는 Redux를 TypeScript와 함께 사용하는 법에 대하여 간단한 예제를 통하여 알아보도록 하겠습니다. 🍀 Redux + TypeScript Redux + TypeScript 적용 👉 yarn add redux react-redux @types/react-redux ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/React-Native-Redux-With-TypeScript/" class="btn btn-outline-primary" prompt="이전 글"><p>React-Native Redux + TypeScript</p></a> <a href="/posts/iOS-Swift-Combine-Basic/" class="btn btn-outline-primary" prompt="다음 글"><p>iOS SwiftUi Combine 기초</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/narvis2">narvis2</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/react-native/">react-native</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/jetpack/">jetpack</a> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/redux/">redux</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/uikit/">UIKit</a> <a class="post-tag" href="/tags/coroutine/">coroutine</a> <a class="post-tag" href="/tags/class/">class</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
