<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Android Custom Dialog" /><meta name="author" content="Narvis2" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="안녕하세요. Narvis2 입니다. 이번 포스팅은 조금 가벼운 주제로 쉬어가고자 합니다. Custom Dialog를 만들어 필요할 때 마다 간단히 호출하여 사용하는 방법을 익혀보고자 합니다." /><meta property="og:description" content="안녕하세요. Narvis2 입니다. 이번 포스팅은 조금 가벼운 주제로 쉬어가고자 합니다. Custom Dialog를 만들어 필요할 때 마다 간단히 호출하여 사용하는 방법을 익혀보고자 합니다." /><link rel="canonical" href="https://narvis2.github.io/posts/Android-Custom-Dialog/" /><meta property="og:url" content="https://narvis2.github.io/posts/Android-Custom-Dialog/" /><meta property="og:site_name" content="Narvis2" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-07-15T16:38:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Android Custom Dialog" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Narvis2"},"dateModified":"2022-07-15T17:50:28+09:00","datePublished":"2022-07-15T16:38:00+09:00","description":"안녕하세요. Narvis2 입니다. 이번 포스팅은 조금 가벼운 주제로 쉬어가고자 합니다. Custom Dialog를 만들어 필요할 때 마다 간단히 호출하여 사용하는 방법을 익혀보고자 합니다.","headline":"Android Custom Dialog","mainEntityOfPage":{"@type":"WebPage","@id":"https://narvis2.github.io/posts/Android-Custom-Dialog/"},"url":"https://narvis2.github.io/posts/Android-Custom-Dialog/"}</script><title>Android Custom Dialog | Narvis2</title><link rel="android-chrome-192x192" sizes="192x192" href="/assets/img/favicons/android-chrome-192x192.png"><link rel="android-chrome-512x512" sizes="512x512" href="/assets/img/favicons/android-chrome-512x512.png"><link rel="mstile-150x150" sizes="150x150" href="/assets/img/favicons/mstile-150x150.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Narvis2"><meta name="application-name" content="Narvis2"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/main.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Narvis2</a></div><div class="site-subtitle font-italic">개발 일지</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>카테고리</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>태그</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>아카이브</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>정보</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/narvis2" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['narvis2','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>Android Custom Dialog</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Android Custom Dialog</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1657870680" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-07-15 </em> </span> <span> 업데이트 <em class="" data-ts="1657875028" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-07-15 </em> </span><div class="d-flex justify-content-between"> <span> By <em> narvis2 </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2597 단어"> <em>14 분</em>읽는 시간</span></div></div></div><div class="post-content"><p>안녕하세요. Narvis2 입니다.<br /> 이번 포스팅은 조금 가벼운 주제로 쉬어가고자 합니다.<br /> Custom Dialog를 만들어 필요할 때 마다 간단히 호출하여 사용하는 방법을 익혀보고자 합니다.</p><h2 id="custom-dialog-class-생성"><span class="mr-2">Custom Dialog Class 생성</span><a href="#custom-dialog-class-생성" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">BasicDialog</span><span class="p">(</span>
    <span class="k">private</span> <span class="n">context</span><span class="p">:</span> <span class="nc">Context</span><span class="p">,</span>
    <span class="n">root</span><span class="p">:</span> <span class="nc">ViewGroup</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>
<span class="p">)</span> <span class="p">{</span>
    <span class="k">private</span> <span class="kd">val</span> <span class="py">builder</span> <span class="p">=</span> <span class="nc">AlertDialog</span><span class="p">.</span><span class="nc">Builder</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="nc">R</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="nc">AlertDialogTheme</span><span class="p">)</span>

    <span class="k">private</span> <span class="kd">val</span> <span class="py">binding</span><span class="p">:</span> <span class="nc">DialogBasicPopupBinding</span> <span class="k">by</span> <span class="nf">lazy</span> <span class="p">{</span>
        <span class="kd">val</span> <span class="py">b</span> <span class="p">=</span> <span class="nc">DialogBasicPopupBinding</span><span class="p">.</span><span class="nf">inflate</span><span class="p">(</span><span class="nc">LayoutInflater</span><span class="p">.</span><span class="nf">from</span><span class="p">(</span><span class="n">context</span><span class="p">),</span> <span class="n">root</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
        <span class="c1">// DataBinding 을 사용합니다.</span>
        <span class="n">b</span><span class="p">.</span><span class="n">body</span> <span class="p">=</span> <span class="k">null</span>
        <span class="n">b</span><span class="p">.</span><span class="n">okCallback</span> <span class="p">=</span> <span class="k">null</span>
        <span class="n">b</span><span class="p">.</span><span class="n">cancelCallback</span> <span class="p">=</span> <span class="k">null</span>

        <span class="k">return</span><span class="nd">@lazy</span> <span class="n">b</span>
    <span class="p">}</span>

    <span class="c1">// androidx 의 AlertDialog를 import 해주셔야 합니다.</span>
    <span class="k">private</span> <span class="kd">var</span> <span class="py">dialog</span><span class="p">:</span> <span class="nc">AlertDialog</span><span class="p">?</span> <span class="p">=</span> <span class="k">null</span>

    <span class="c1">// Dialog 의 Title을 지정해주는 Method 입니다. </span>
    <span class="c1">// R.string.confirm 의 형식을 인자에 넣어주는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setTitle</span><span class="p">(</span><span class="nd">@StringRes</span> <span class="n">titleId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">setTitle</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="nf">getText</span><span class="p">(</span><span class="n">titleId</span><span class="p">))</span>
    <span class="p">}</span>
    <span class="c1">// 위의 setTitle 의 return 에서 사용하는 Method 입니다.</span>
    <span class="c1">// resources.getString() 로 string resource를 가져와 인자에 넣어주는 방식의 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setTitle</span><span class="p">(</span><span class="n">title</span><span class="p">:</span> <span class="nc">CharSequence</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="c1">// Data Binding 을 사용하여 xml에 넣어줍니다.</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">subject</span> <span class="p">=</span> <span class="n">title</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>

    <span class="c1">// Dialog 의 Message를 지정해주는 Method 입니다.</span>
    <span class="c1">// R.string.confirm 의 형식을 인자에 넣어주는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setMessage</span><span class="p">(</span><span class="nd">@StringRes</span> <span class="n">messageId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">setMessage</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="nf">getText</span><span class="p">(</span><span class="n">messageId</span><span class="p">))</span>
    <span class="p">}</span>
    <span class="c1">// 위의 setMessage 함수의 return에서 사용하는 Method 입니다.</span>
    <span class="c1">// resource.getString() 로 string resource를 가져와 인자에 넣어주는 방식의 Method 입니다. </span>
    <span class="k">fun</span> <span class="nf">setMessage</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nc">CharSequence</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="c1">// Data Binding 을 사용하여 xml에 넣어줍니다.</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">body</span> <span class="p">=</span> <span class="n">message</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>

    <span class="c1">// Dialog 의 Message를 지정해주는 Method 입니다.</span>
    <span class="c1">// R.string.confirm 의 형식을 인자에 넣어주는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setMessageStyle1</span><span class="p">(</span><span class="nd">@StringRes</span> <span class="n">messageId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">setMessageStyle1</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="nf">getText</span><span class="p">(</span><span class="n">messageId</span><span class="p">))</span>
    <span class="p">}</span>
    <span class="c1">// 위의 setMessageStyle1 함수의 return에서 사용하는 Method 입니다.</span>
    <span class="c1">// resource.getString() 로 string resource를 가져와 인자에 넣어주는 방식의 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setMessageStyle1</span><span class="p">(</span><span class="n">message</span><span class="p">:</span> <span class="nc">CharSequence</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="c1">// SpannableStringBuilder 를 사용하면 Code 상에서 TextView에 넣을 문자 일부의 색, 크기, 스타일을 변경할 수 있습니다.</span>
        <span class="k">return</span> <span class="nf">setMessage</span><span class="p">(</span><span class="nc">SpannableStringBuilder</span><span class="p">(</span><span class="n">message</span><span class="p">).</span><span class="nf">apply</span> <span class="p">{</span>
            <span class="c1">// 지정된 개체로 지정된 텍스트 범위를 표시합니다. </span>
            <span class="c1">// Flag 는 범위 범위의 시작 또는 끝에 텍스트가 삽입될 때 범위가 작동하는 방식을 결정합니다.</span>
            <span class="c1">// start 변수에서부터 end 변수까지를 what의 설정으로 변경합니다.</span>
            <span class="nf">setSpan</span><span class="p">(</span>
                <span class="c1">// 텍스트 크기를 물리적 픽셀 크기로 설정하거나 'dip'이 true인 경우 장치 독립적 픽셀 크기로 설정합니다.</span>
                <span class="n">what</span> <span class="p">=</span> <span class="nc">AbsoluteSizeSpan</span><span class="p">(</span>
                    <span class="nc">TypedValue</span><span class="p">.</span><span class="nf">applyDimension</span><span class="p">(</span>
                        <span class="nc">TypedValue</span><span class="p">.</span><span class="nc">COMPLEX_UNIT_SP</span><span class="p">,</span>
                        <span class="mf">17f</span><span class="p">,</span> <span class="c1">// Text 크기를 17f로 고정</span>
                        <span class="n">binding</span><span class="p">.</span><span class="n">root</span><span class="p">.</span><span class="n">context</span><span class="p">.</span><span class="n">resources</span><span class="p">.</span><span class="n">displayMetrics</span>
                    <span class="p">).</span><span class="nf">toInt</span><span class="p">(),</span> 
                    <span class="n">dip</span> <span class="p">=</span> <span class="k">false</span>
                <span class="p">),</span> 
                <span class="n">start</span> <span class="p">=</span> <span class="mi">0</span><span class="p">,</span> 
                <span class="n">end</span> <span class="p">=</span> <span class="n">length</span><span class="p">,</span> 
                <span class="n">flags</span> <span class="p">=</span> <span class="nc">Spanned</span><span class="p">.</span><span class="nc">SPAN_EXCLUSIVE_EXCLUSIVE</span> <span class="c1">// 길이가 0일 수 없으며 포함하는 모든 텍스트가 제거되면 버퍼에서 자동으로 제거됩니다.</span>
            <span class="p">)</span>
        <span class="p">})</span>
    <span class="p">}</span>

    <span class="c1">// Dialog의 "확인" 버튼 Click Listener 라고 생각하시면 됩니다.</span>
    <span class="c1">// R.string.confirm 의 형식을 인자에 넣어주고 Click Listener Callback을 받는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setPositiveButton</span><span class="p">(</span><span class="nd">@StringRes</span> <span class="n">textId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="nc">View</span><span class="p">.</span><span class="nc">OnClickListener</span><span class="p">?):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">setPositiveButton</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="nf">getText</span><span class="p">(</span><span class="n">textId</span><span class="p">),</span> <span class="n">listener</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="c1">// resource.getString() 로 string resource를 가져와 인자에 넣어주고 Click Listener Callback을 받는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setPositiveButton</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nc">CharSequence</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="nc">View</span><span class="p">.</span><span class="nc">OnClickListener</span><span class="p">?):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="c1">// 버튼 이름을 Data Binding 을 통해 넣어줍니다.</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">ok</span> <span class="p">=</span> <span class="n">text</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">listener</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Click Listener를 Data Binding을 통해 넣어줍니다.</span>
            <span class="n">binding</span><span class="p">.</span><span class="n">okCallback</span> <span class="p">=</span> <span class="nc">View</span><span class="p">.</span><span class="nc">OnClickListener</span> <span class="p">{</span> <span class="n">v</span> <span class="p">-&gt;</span>
                <span class="n">listener</span><span class="p">.</span><span class="nf">onClick</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="nf">dismiss</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">binding</span><span class="p">.</span><span class="n">okCallback</span> <span class="p">=</span> <span class="n">listener</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>

    <span class="c1">// Dialog "부정" 버튼 Click Listener 라고 생각하시면 됩니다.</span>
    <span class="c1">// R.string.confirm 의 형식을 인자에 넣어주고 Click Listener Callback을 받는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setNegativeButton</span><span class="p">(</span><span class="nd">@StringRes</span> <span class="n">textId</span><span class="p">:</span> <span class="nc">Int</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="nc">View</span><span class="p">.</span><span class="nc">OnClickListener</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nf">setNegativeButton</span><span class="p">(</span><span class="n">context</span><span class="p">.</span><span class="nf">getText</span><span class="p">(</span><span class="n">textId</span><span class="p">),</span> <span class="n">listener</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="c1">// resource.getString() 로 string resource를 가져와 인자에 넣어주고 Click Listener Callback을 받는 Method 입니다.</span>
    <span class="k">fun</span> <span class="nf">setNegativeButton</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nc">CharSequence</span><span class="p">,</span> <span class="n">listener</span><span class="p">:</span> <span class="nc">View</span><span class="p">.</span><span class="nc">OnClickListener</span><span class="p">?):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="c1">// 부정 버튼 이름을 Data Binding 을 통해 넣어줍니다.</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">cancel</span> <span class="p">=</span> <span class="n">text</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">listener</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Click Listener를 Data Binding을 통해 넣어줍니다.</span>
            <span class="n">binding</span><span class="p">.</span><span class="n">cancelCallback</span> <span class="p">=</span> <span class="nc">View</span><span class="p">.</span><span class="nc">OnClickListener</span> <span class="p">{</span> <span class="n">v</span> <span class="p">-&gt;</span>
                <span class="n">listener</span><span class="p">.</span><span class="nf">onClick</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="nf">dismiss</span><span class="p">()</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">binding</span><span class="p">.</span><span class="n">cancelCallback</span> <span class="p">=</span> <span class="n">listener</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>
    
    <span class="c1">// Dialog 취소가 되는지 여부를 설정합니다.</span>
    <span class="k">fun</span> <span class="nf">setCancelable</span><span class="p">(</span><span class="n">cancelable</span><span class="p">:</span> <span class="nc">Boolean</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="n">builder</span><span class="p">.</span><span class="nf">setCancelable</span><span class="p">(</span><span class="n">cancelable</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>
    <span class="c1">// Dialog 의 취소 Listener 를 설정합니다.</span>
    <span class="k">fun</span> <span class="nf">setOnCancelListener</span><span class="p">(</span><span class="n">onCancelListener</span><span class="p">:</span> <span class="nc">DialogInterface</span><span class="p">.</span><span class="nc">OnCancelListener</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="n">builder</span><span class="p">.</span><span class="nf">setOnCancelListener</span><span class="p">(</span><span class="n">onCancelListener</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>
    
    <span class="c1">// Dialog 가 dismiss 될때 호출되는 Listener 를 설정합니다.</span>
    <span class="c1">// Dialog 가 dismiss 될때 해야할 적업이 있을 때 사용하시면 됩니다.</span>
    <span class="k">fun</span> <span class="nf">setOnDismissListener</span><span class="p">(</span><span class="n">onDismissListener</span><span class="p">:</span> <span class="nc">DialogInterface</span><span class="p">.</span><span class="nc">OnDismissListener</span><span class="p">):</span> <span class="nc">BasicDialog</span> <span class="p">{</span>
        <span class="n">builder</span><span class="p">.</span><span class="nf">setOnDismissListener</span><span class="p">(</span><span class="n">onDismissListener</span><span class="p">)</span>
        <span class="k">return</span> <span class="k">this</span>
    <span class="p">}</span>

    <span class="c1">// Dialog 에 Custom View를 세팅해주고 dialog를 create() 해주는 Method 입니다.</span>
    <span class="k">private</span> <span class="k">fun</span> <span class="nf">create</span><span class="p">():</span> <span class="nc">AlertDialog</span> <span class="p">{</span>
        <span class="n">builder</span><span class="p">.</span><span class="nf">setView</span><span class="p">(</span><span class="n">binding</span><span class="p">.</span><span class="n">root</span><span class="p">)</span>
        <span class="n">dialog</span> <span class="p">=</span> <span class="n">builder</span><span class="p">.</span><span class="nf">create</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">dialog</span><span class="o">!!</span>
    <span class="p">}</span>

    <span class="c1">// Dialog 를 보여주는 함수입니다. Dialog 는  마지막에 show()를 호출하지 않으면 동작하지 않습니다.</span>
    <span class="k">fun</span> <span class="nf">show</span><span class="p">()</span> <span class="p">{</span>
        <span class="nf">create</span><span class="p">().</span><span class="nf">show</span><span class="p">()</span>
    <span class="p">}</span>
    
    <span class="c1">// Dialog 를 dismiss 하는 함수입니다.</span>
    <span class="k">fun</span> <span class="nf">dismiss</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">dialog</span><span class="o">?.</span><span class="nf">dismiss</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="xml-쪽-알아보기"><span class="mr-2">xml 쪽 알아보기</span><a href="#xml-쪽-알아보기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><p>DialogBasicPopupBinding 내부를 살펴보겠습니다.</p><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="c">&lt;!-- Data Binding 을 사용하기 위해 alt + enter 를 통해 layout 테그를 만들어 줍니다. --&gt;</span>
<span class="nt">&lt;layout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;data&gt;</span>
        <span class="c">&lt;!-- View의 Visible 처리를 해주기 위해 import 합니다. --&gt;</span>
        <span class="nt">&lt;import</span> <span class="na">type=</span><span class="s">"android.view.View"</span> <span class="nt">/&gt;</span>

        <span class="c">&lt;!-- 제목, 즉 Title을 담당하는 변수입니다. --&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"subject"</span>
            <span class="na">type=</span><span class="s">"CharSequence"</span> <span class="nt">/&gt;</span>

        <span class="c">&lt;!-- Message를 담당하는 변수입니다. --&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"body"</span>
            <span class="na">type=</span><span class="s">"CharSequence"</span> <span class="nt">/&gt;</span>

        <span class="c">&lt;!-- 취소 버튼의 이름을 담당하는 변수입니다. --&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"cancel"</span>
            <span class="na">type=</span><span class="s">"CharSequence"</span> <span class="nt">/&gt;</span>

        <span class="c">&lt;!-- 확인 버튼의 이름을 담당하는 변수입니다. --&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"ok"</span>
            <span class="na">type=</span><span class="s">"CharSequence"</span> <span class="nt">/&gt;</span>

        <span class="c">&lt;!-- 취소 버튼의 Click Listenr 를 담당해줄 변수입니다. --&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"cancelCallback"</span>
            <span class="na">type=</span><span class="s">"android.view.View.OnClickListener"</span> <span class="nt">/&gt;</span>

        <span class="c">&lt;!-- 확인 버튼의 Click Listenr 를 담당해줄 변수입니다. --&gt;</span>
        <span class="nt">&lt;variable</span>
            <span class="na">name=</span><span class="s">"okCallback"</span>
            <span class="na">type=</span><span class="s">"android.view.View.OnClickListener"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/data&gt;</span>

    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
        <span class="na">android:gravity=</span><span class="s">"center"</span>
        <span class="na">android:paddingHorizontal=</span><span class="s">"20dp"</span>
        <span class="na">tools:background=</span><span class="s">"@color/colorSignUpHint"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;androidx.constraintlayout.widget.ConstraintLayout</span>
            <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
            <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
            <span class="na">android:padding=</span><span class="s">"20dp"</span>
            <span class="na">android:background=</span><span class="s">"@drawable/white_round_frame"</span><span class="nt">&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:id=</span><span class="s">"@+id/basicDialogTitleLl"</span>
                <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
                <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                <span class="na">android:gravity=</span><span class="s">"center"</span>
                <span class="na">android:minHeight=</span><span class="s">"120dp"</span>
                <span class="na">android:orientation=</span><span class="s">"vertical"</span>
                <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
                <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
                <span class="na">app:layout_constraintTop_toTopOf=</span><span class="s">"parent"</span><span class="nt">&gt;</span>

                <span class="c">&lt;!-- 삼항식을 사용하여 title이 null 이 아니면 보여주고 null 이면 GONE 처리합니다. --&gt;</span>
                <span class="nt">&lt;TextView</span>
                    <span class="na">android:id=</span><span class="s">"@+id/subjectTv"</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:gravity=</span><span class="s">"center"</span>
                    <span class="na">android:letterSpacing=</span><span class="s">"-0.02"</span>
                    <span class="na">android:lineSpacingExtra=</span><span class="s">"6sp"</span>
                    <span class="na">android:paddingBottom=</span><span class="s">"7.5dp"</span>
                    <span class="na">android:lineSpacingMultiplier=</span><span class="s">"0.65"</span>
                    <span class="na">android:maxLines=</span><span class="s">"3"</span>
                    <span class="na">android:paddingTop=</span><span class="s">"2.2dp"</span>
                    <span class="na">android:text=</span><span class="s">"@{subject}"</span>
                    <span class="na">android:textColor=</span><span class="s">"#000000"</span>
                    <span class="na">android:textSize=</span><span class="s">"17sp"</span>
                    <span class="na">android:textStyle=</span><span class="s">"bold"</span>
                    <span class="na">android:visibility=</span><span class="s">"@{subject != null ? View.VISIBLE : View.GONE}"</span>
                    <span class="na">tools:text=</span><span class="s">"인증에 실패하였습니다.\n다시 인증해주세요."</span> <span class="nt">/&gt;</span>

                <span class="c">&lt;!-- 삼항식을 사용하여 Message가 null 이 아니면 보여주고 null 이면 GONE 처리합니다. --&gt;</span>
                <span class="nt">&lt;TextView</span>
                    <span class="na">android:id=</span><span class="s">"@+id/bodyTv"</span>
                    <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
                    <span class="na">android:layout_marginBottom=</span><span class="s">"24.5dp"</span>
                    <span class="na">android:gravity=</span><span class="s">"center_horizontal"</span>
                    <span class="na">android:letterSpacing=</span><span class="s">"-0.03"</span>
                    <span class="na">android:lineSpacingExtra=</span><span class="s">"6sp"</span>
                    <span class="na">android:lineSpacingMultiplier=</span><span class="s">"0.65"</span>
                    <span class="na">android:maxLines=</span><span class="s">"5"</span>
                    <span class="na">android:text=</span><span class="s">"@{body}"</span>
                    <span class="na">android:textColor=</span><span class="s">"#000000"</span>
                    <span class="na">android:textSize=</span><span class="s">"14sp"</span>
                    <span class="na">android:visibility=</span><span class="s">"@{body != null ? View.VISIBLE : View.GONE}"</span>
                    <span class="na">tools:text=</span><span class="s">"인증번호를 받지 못한 경우 재요청하여 인증번호를 수신 후 진행하여 주십시오."</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/LinearLayout&gt;</span>

            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
                <span class="na">android:layout_height=</span><span class="s">"48dp"</span>
                <span class="na">android:orientation=</span><span class="s">"horizontal"</span>
                <span class="na">app:layout_constraintEnd_toEndOf=</span><span class="s">"parent"</span>
                <span class="na">app:layout_constraintStart_toStartOf=</span><span class="s">"parent"</span>
                <span class="na">app:layout_constraintTop_toBottomOf=</span><span class="s">"@id/basicDialogTitleLl"</span><span class="nt">&gt;</span>

                <span class="nt">&lt;TextView</span>
                    <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
                    <span class="na">android:layout_height=</span><span class="s">"48dp"</span>
                    <span class="na">android:layout_weight=</span><span class="s">"1"</span>
                    <span class="na">android:background=</span><span class="s">"@drawable/common_button_cancel"</span>
                    <span class="na">android:gravity=</span><span class="s">"center"</span>
                    <span class="na">android:letterSpacing=</span><span class="s">"-0.02"</span>
                    <span class="na">android:lineSpacingExtra=</span><span class="s">"-4sp"</span>
                    <span class="na">android:text=</span><span class="s">"@{cancel}"</span>
                    <span class="na">android:textColor=</span><span class="s">"#ffffff"</span>
                    <span class="na">android:textSize=</span><span class="s">"16sp"</span>
                    <span class="na">android:visibility=</span><span class="s">"@{cancelCallback != null ? View.VISIBLE : View.GONE}"</span>
                    <span class="na">android:onClick=</span><span class="s">"@{cancelCallback}"</span>
                    <span class="na">tools:text=</span><span class="s">"@string/str_cancel"</span> <span class="nt">/&gt;</span>
                
                <span class="c">&lt;!-- Space를 통해 취소 버튼과 확인 버튼 사이에 공백을 만듭니다. --&gt;</span>
                <span class="c">&lt;!-- 취소 버튼의 ClickListener 가 Null 이 아니고 확인 버튼의 ClickListener 가 Null 이 아닐때만 보여주고 둘 중 하나라도 NUll 일 경우 Gone 처리 됩니다. --&gt;</span>
                <span class="c">&lt;!-- &amp;amp;&amp;amp; = &amp;&amp; 와 같습니다. --&gt;</span>
                <span class="nt">&lt;Space</span>
                    <span class="na">android:id=</span><span class="s">"@+id/space"</span>
                    <span class="na">android:layout_width=</span><span class="s">"8dp"</span>
                    <span class="na">android:layout_height=</span><span class="s">"48dp"</span>
                    <span class="na">android:visibility=</span><span class="s">"@{cancelCallback != null &amp;amp;&amp;amp; okCallback != null ? View.VISIBLE : View.GONE}"</span> <span class="nt">/&gt;</span>

                <span class="nt">&lt;TextView</span>
                    <span class="na">android:layout_width=</span><span class="s">"0dp"</span>
                    <span class="na">android:layout_height=</span><span class="s">"48dp"</span>
                    <span class="na">android:layout_weight=</span><span class="s">"1"</span>
                    <span class="na">android:background=</span><span class="s">"@drawable/common_button_ok"</span>
                    <span class="na">android:gravity=</span><span class="s">"center"</span>
                    <span class="na">android:letterSpacing=</span><span class="s">"-0.02"</span>
                    <span class="na">android:lineSpacingExtra=</span><span class="s">"-4sp"</span>
                    <span class="na">android:text=</span><span class="s">"@{ok}"</span>
                    <span class="na">android:textColor=</span><span class="s">"#ffffff"</span>
                    <span class="na">android:textSize=</span><span class="s">"16sp"</span>
                    <span class="na">android:visibility=</span><span class="s">"@{okCallback != null ? View.VISIBLE : View.GONE}"</span>
                    <span class="na">android:onClick=</span><span class="s">"@{okCallback}"</span>
                    <span class="na">tools:text=</span><span class="s">"@string/confirm"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/LinearLayout&gt;</span>
        <span class="nt">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/layout&gt;</span>
</pre></table></code></div></div><h2 id="실제로-사용해-보기"><span class="mr-2">실제로 사용해 보기</span><a href="#실제로-사용해-보기" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><div class="language-kotlin highlighter-rouge"><div class="code-header"> <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">HomeFragment</span> <span class="p">:</span> <span class="nc">Fragment</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="kd">var</span> <span class="py">binding</span><span class="p">:</span> <span class="nc">FragmentHomeBinding</span>
    
    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onCreateView</span><span class="p">(</span>
        <span class="n">inflater</span><span class="p">:</span> <span class="nc">LayoutInflater</span><span class="p">,</span>
        <span class="n">container</span><span class="p">:</span> <span class="nc">ViewGroup</span><span class="p">?,</span>
        <span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?</span>
    <span class="p">):</span> <span class="nc">View</span><span class="p">?</span> <span class="p">{</span>
        <span class="n">binding</span> <span class="p">=</span> <span class="nc">DataBindingUtil</span><span class="p">.</span><span class="nf">inflate</span><span class="p">(</span><span class="n">inflater</span><span class="p">,</span> <span class="n">layoutResId</span><span class="p">,</span> <span class="n">container</span><span class="p">,</span> <span class="k">false</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">binding</span><span class="p">.</span><span class="n">root</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">onViewCreated</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="nc">View</span><span class="p">,</span> <span class="n">savedInstanceState</span><span class="p">:</span> <span class="nc">Bundle</span><span class="p">?)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">.</span><span class="nf">onViewCreated</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">savedInstanceState</span><span class="p">)</span>
        <span class="n">binding</span><span class="p">.</span><span class="n">lifecycleOwner</span> <span class="p">=</span> <span class="n">viewLifecycleOwner</span>

        <span class="n">binding</span><span class="p">.</span><span class="n">showDialogButton</span><span class="p">.</span><span class="nf">setOnClickListener</span> <span class="p">{</span>
            <span class="nc">BasicDialog</span><span class="p">(</span><span class="nf">requireContext</span><span class="p">(),</span> <span class="n">binding</span><span class="p">.</span><span class="n">root</span> <span class="k">as</span><span class="p">?</span> <span class="nc">ViewGroup</span><span class="p">)</span>
                <span class="p">.</span><span class="nf">setMessageStylel</span><span class="p">(</span>
                    <span class="nf">getSpannedFromHtml</span><span class="p">(</span>
                        <span class="n">resources</span><span class="p">.</span><span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">str_hello</span><span class="p">)</span>
                            <span class="p">.</span><span class="nf">format</span><span class="p">(</span><span class="s">"narvis2"</span><span class="p">)</span>
                    <span class="p">)</span>
                <span class="p">)</span>
                <span class="p">.</span><span class="nf">setPositiveButton</span><span class="p">(</span><span class="n">resources</span><span class="p">.</span><span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">str_confirm</span><span class="p">))</span> <span class="p">{</span>
                    <span class="c1">// TODO: 확인 버튼 클릭 시 동작 작성</span>
                <span class="p">}</span>
                <span class="p">.</span><span class="nf">setNegativeButton</span><span class="p">(</span><span class="n">resources</span><span class="p">.</span><span class="nf">getString</span><span class="p">(</span><span class="nc">R</span><span class="p">.</span><span class="n">string</span><span class="p">.</span><span class="n">str_cancel</span><span class="p">))</span> <span class="p">{</span>
                    <span class="c1">// TODO: 취소 버튼 클릭 시 동작 작성</span>
                    <span class="c1">// setNegativeButton 함수 내부에 dialog.dismiss()가 포함되어 있으므로 빈칸으로 놔둬도 클릭 시 자동 dismiss처리 됩니다.</span>
                <span class="p">}</span>
                <span class="p">.</span><span class="nf">show</span><span class="p">()</span> <span class="c1">// show() 함수 내부에 create().show() 로 되어있습니다.</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// 제공된 HTML 문자열에서 표시 가능한 스타일 텍스트를 반환하는 Method 입니다.</span>
    <span class="k">private</span> <span class="k">fun</span> <span class="nf">getSpannedFromHtml</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nc">String</span><span class="p">?):</span> <span class="nc">Spanned</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="k">if</span> <span class="p">(</span><span class="nc">Build</span><span class="p">.</span><span class="nc">VERSION</span><span class="p">.</span><span class="nc">SDK_INT</span> <span class="p">&lt;</span> <span class="nc">Build</span><span class="p">.</span><span class="nc">VERSION_CODES</span><span class="p">.</span><span class="nc">N</span><span class="p">)</span> <span class="p">{</span>
            <span class="nc">Html</span><span class="p">.</span><span class="nf">fromHtml</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nc">Html</span><span class="p">.</span><span class="nf">fromHtml</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="nc">Html</span><span class="p">.</span><span class="nc">FROM_HTML_MODE_LEGACY</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="strings-파일"><span class="mr-2">strings 파일</span><a href="#strings-파일" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c">&lt;!-- 이렇게하면 &lt;b&gt; &lt;/b&gt; 안의 글자만 Bold 처리 됩니다. --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"str_hello"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[&lt;b&gt;%1$s&lt;/b&gt; 님 안녕하십니까?]]&gt;</span><span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"str_confirm"</span><span class="nt">&gt;</span>확인<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"str_cancel"</span><span class="nt">&gt;</span>취소<span class="nt">&lt;/string&gt;</span>
</pre></table></code></div></div><h2 id="drawable"><span class="mr-2">drawable</span><a href="#drawable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><h3 id="1-common_button_cancelxml-입니다"><span class="mr-2">1. common_button_cancel.xml 입니다.</span><a href="#1-common_button_cancelxml-입니다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>취소 버튼 색상이 회색으로 바뀌며 모서리가 14dp 만큼 둥글게 됩니다.</ul><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;shape</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;corners</span> <span class="na">android:radius=</span><span class="s">"14dp"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;solid</span> <span class="na">android:color=</span><span class="s">"#a8a9ae"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</pre></table></code></div></div><h3 id="2-common_button_okxml-입니다"><span class="mr-2">2. common_button_ok.xml 입니다.</span><a href="#2-common_button_okxml-입니다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>확인 버튼 색상이 남색으로 바뀌며 모서리가 14dp 만큼 둥글게 됩니다.</ul><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nt">&lt;shape</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;corners</span> <span class="na">android:radius=</span><span class="s">"14dp"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;solid</span> <span class="na">android:color=</span><span class="s">"#152348"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/shape&gt;</span>
</pre></table></code></div></div><h2 id="style"><span class="mr-2">Style</span><a href="#style" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><hr /><h3>AlertDialog.Builder(context, R.style.AlertDialogTheme) 에 적용되는 Style 입니다.</h3><ul><li>뒷 배경을 투명으로 만듭니다.<li>dialog 가 화면의 위, 아래 기준으로 중간에 오도록 합니다.<li>상태바 색상을 투명으로 만듭니다.</ul><div class="language-xml highlighter-rouge"><div class="code-header"> <span data-label-text="XML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"AlertDialogTheme"</span> <span class="na">parent=</span><span class="s">"transparent"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:windowBackground"</span><span class="nt">&gt;</span>@android:color/transparent<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:layout_gravity"</span><span class="nt">&gt;</span>center_vertical<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:statusBarColor"</span><span class="nt">&gt;</span>@android:color/transparent<span class="nt">&lt;/item&gt;</span>
<span class="nt">&lt;/style&gt;</span>
</pre></table></code></div></div><h2 id="마치며"><span class="mr-2">마치며</span><a href="#마치며" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>이번 포스팅에서는 Custom Dialog를 만드는 코드를 살펴보았습니다.<br /> 해당 코드는 제가 주로 사용하는 방식입니다.<br /> 다음에는 “중복 클릭 방지” 기능에 대한 코드를 살펴보겠습니다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a>, <a href='/categories/custom/'>Custom</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/custom/" class="post-tag no-text-decoration" >custom</a> <a href="/tags/dialog/" class="post-tag no-text-decoration" >dialog</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Android+Custom+Dialog+-+Narvis2&url=https%3A%2F%2Fnarvis2.github.io%2Fposts%2FAndroid-Custom-Dialog%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Android+Custom+Dialog+-+Narvis2&u=https%3A%2F%2Fnarvis2.github.io%2Fposts%2FAndroid-Custom-Dialog%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fnarvis2.github.io%2Fposts%2FAndroid-Custom-Dialog%2F&text=Android+Custom+Dialog+-+Narvis2" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/iOS-SwiftUi-ViewModel/">iOS SwiftUi ViewModel</a><li><a href="/posts/Android-Activity-Lifecycle/">Android Activity Lifecycle 생명주기 정리</a><li><a href="/posts/Javascript-Promise-Async-Await/">JavaScript 비동기 작업 Promise, async, await 알아보기</a><li><a href="/posts/iOS-Swift-Alamofire/">iOS SwiftUi Alamofire 기초</a><li><a href="/posts/iOS-Swift-Combine-Basic/">iOS SwiftUi Combine 기초</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/react-native/">react-native</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/jetpack/">jetpack</a> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/redux/">redux</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/uikit/">UIKit</a> <a class="post-tag" href="/tags/coroutine/">coroutine</a> <a class="post-tag" href="/tags/class/">class</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Android-Activity-Lifecycle/"><div class="card-body"> <em class="small" data-ts="1657672080" data-df="YYYY-MM-DD" > 2022-07-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android Activity Lifecycle 생명주기 정리</h3><div class="text-muted small"><p> Android Activity Lifecycle 동작 순서 구글 공식 홈페이지에 나와있는 이미지를 참고하시면 이해가 쉽습니다. 해당 이미지를 참고하여 Activity Lifecycle 의 순서를 보면 Activity 생성 시 onCreate() -&amp;gt; onStart() -&amp;gt; onResume() 의 순서로 콜백이 실행 되며 Activity...</p></div></div></a></div><div class="card"> <a href="/posts/Android-Fragment-Lifecycle/"><div class="card-body"> <em class="small" data-ts="1657672080" data-df="YYYY-MM-DD" > 2022-07-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android Fragment Lifecycle 생명주기 정리</h3><div class="text-muted small"><p> 이전 Activity Lifecycle 정리 포스팅에 이어 이번에는 Fragment 의 Lifecycle에 대해 알아보겠습니다. 🚩 Android Fragment Lifecycle 동작 순서 이번에도 구글 공식 홈페이지에 나와있는 이미지를 바탕으로 살펴보겠습니다. 해당 이미지를 참고하여 Fragment Lifecycle 의 순서를 보면 Fragme...</p></div></div></a></div><div class="card"> <a href="/posts/Android-handler-looper/"><div class="card-body"> <em class="small" data-ts="1657766640" data-df="YYYY-MM-DD" > 2022-07-14 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android Handler, Looper 에 관하여</h3><div class="text-muted small"><p> 이번에는 Handler, Looper 에 대해서 알아보도록 하겠습니다. Android의 UI 처리는 Single Thread Model로 동작합니다. 즉, mainThread가 아닌 다른 Thread에서 UI 를 Update하는 등의 행위를 하면 안됩니다. 따라서 mainThread를 UI Thread라고 부르기도 합니다. 동작의 무결성을 보장하기 위...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Android-Permission/" class="btn btn-outline-primary" prompt="이전 글"><p>Android RequestMultiplePermissions()을 사용하여 권한 요청</p></a> <a href="/posts/Android-DataStore/" class="btn btn-outline-primary" prompt="다음 글"><p>Android DataStore(SharedPreference 대체)</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/narvis2">narvis2</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/react-native/">react-native</a> <a class="post-tag" href="/tags/compose/">compose</a> <a class="post-tag" href="/tags/jetpack/">jetpack</a> <a class="post-tag" href="/tags/ios/">iOS</a> <a class="post-tag" href="/tags/redux/">redux</a> <a class="post-tag" href="/tags/typescript/">typescript</a> <a class="post-tag" href="/tags/uikit/">UIKit</a> <a class="post-tag" href="/tags/coroutine/">coroutine</a> <a class="post-tag" href="/tags/class/">class</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">새 버전의 콘텐츠를 사용할 수 있습니다.</p><button type="button" class="btn btn-primary" aria-label="Update"> 업데이트 </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
